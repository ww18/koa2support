{% extends 'layout.html' %}

{% block title %}
{{title}}
{% endblock %}

{% block head %}

<link rel="stylesheet" type="text/css" href="/dist/bundle.css?v=94d3ba6d38ac8113c17d">

<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/jquery.pjax/2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.bootcss.com/x-tag/1.5.11/x-tag-core.js"></script>

<script src="/dist/app.js?v=94d3ba6d38ac8113c17d"></script>

{% endblock %}

{% block content %}
<form method="get" action="/index/update">
    用户名：<input type="text" name="username" id="username" value="{{username}}" /><br/>
    点击数：<input type="text" name="num" id="num" value="{{num}}" />
    <input type="submit" value="提交">
</form>
<a href="/praise">praise</a>
<a href="/star">star</a>
<div id="xtagContainer">
    {% autoescape false %}
    {{container}}
    {% endautoescape %}
</div>
<script>
    $(document).pjax('a', '#xtagContainer');
//    var thumb = null;
//    function clickFn(){
//        $('#num').val(parseInt($('#num').val())+1);
//        axios.get('/index/update', {
//                    params: {
//                        username: $('#username').val(),
//                        num: $('#num').val()
//                    }
//                })
//                .then(function (response) {
//                    thumb.addAnimation();
//                })
//                .catch(function (error) {
//                    console.log(error);
//                });
//
//    }
//    SystemJS.import('/dist/Thumb.js').then(function (m) {
//        //因为不是用jquery写的，所以如果写成fn的函数的话还要再改代码，所以就直接写成jquery的方法了
//        $.Thumb = function(opt){
//            return new m.default(opt);
//        }
//        let opt = {
//            container: '.support-background',
//            callback: clickFn
//        };
//        thumb = $.Thumb(opt);
//    });

</script>

{% endblock %}